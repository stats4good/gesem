<!doctype html>
<body>

 <div id="venn_five" style=float:left>    
  
	<script>

        var sets = [
		    {sets:["Residência"], figure: 3.6, label: "Residência", size: 18247, size2: 867},
                    {sets:["Ocorrência"], figure: 5.6, label: "Ocorrência", size: 18247, size2: 1373},
                    {sets:["Notificação"], figure: 17.2, label: "Notificação", size: 18247, size2: 4193},
                    {sets: ["Notificação", "Ocorrência"], figure: 2.2, label: "Notificação e ocorrência", size: 536, size2: 536},
                    {sets: ["Notificação", "Residência"], figure: 4.3, label: "Notificação e residência", size: 1042, size2: 1042},
                    {sets: ["Ocorrência", "Residência"], figure: 15.9, label: "Ocorrência e residência", size: 3862, size2: 3862},
                    {sets: ["Notificação", "Ocorrência", "Residência"], figure: 51.2, label: "Notificação, ocorrência e residência", size: 12476, size2: 12476}
                    ];


        var chart = venn.VennDiagram()
            .width(500)
            .height(400)

          

        var div5 = d3.select("#venn_five").datum(sets).call(chart);
            div5.selectAll("text").style("fill", "white");
            div5.selectAll(".venn-circle path")
                    .style("fill-opacity", .8)
                    .style("stroke-width", 1)
                    .style("stroke-opacity", 1)
                    .style("stroke", "fff");



        var tooltip = d3.select("body").append("div5")
            .attr("class", "venntooltip");


        div5.selectAll("g")
            .on("mouseover", function(d, i) {
                
                venn.sortAreas(div5, d);

                
                tooltip.transition().duration(40).style("opacity", 1);
                tooltip.text(d.size2 + " (" + d.figure + ")" + "% dos casos notificados");

                
                
                var selection = d3.select(this).transition("tooltip").duration(400);
                selection.select("path")
                    .style("stroke-width", 3)
                    .style("fill-opacity", d.sets.length == 1 ? .8 : 0)
                    .style("stroke-opacity", 1);
            })

            .on("mousemove", function() {
                tooltip.style("left", (d3.event.pageX) + "px")
                       .style("top", (d3.event.pageY - 28) + "px");
            })

            .on("mouseout", function(d, i) {
                tooltip.transition().duration(2000).style("opacity", 0);
                var selection = d3.select(this).transition("tooltip").duration(400);
                selection.select("path")
                    .style("stroke-width", 3)
                    .style("fill-opacity", d.sets.length == 1 ? .8 : 0)
                    .style("stroke-opacity", 1);
            });

	
        

    </script>

</div> 

</body>

</html>

